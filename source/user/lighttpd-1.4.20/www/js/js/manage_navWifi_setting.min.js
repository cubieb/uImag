$(function(){$("header>.nav-back").on("click",function(){window.history.go(-1)}),$.ajax({type:"POST",url:"/cgi-bin/wifi_setting.cgi",data:"get_data=data",error:function(e,o){console.log("从get_data=data数据接口获取数据---------失败")},success:function(e){console.log("从get_data=data数据接口获取数据------------成功"),obj=JSON.parse(e),patternId=obj.patternId||"throughWall",patternChecked=obj.patternChecked||"true",$("#newWifiName").val(obj.newWifiName),$("#newPassword").val(obj.newPassword),obj.wifiPassword==obj.newPassword?$("#samePassword").prop("checked",!0):$("#samePassword").prop("checked",!1),obj.managePassword==obj.newPassword?$("#managePwd").prop("checked",!0):($("#managePwd").prop("checked",!1),$(".online-info-managesamePWD").get(0).style.display="block",$("#managePassword").val(obj.managePassword))}}),$("#samePassword").parent().on("click",function(){console.log($(this));var e=$(this).find("input[type='checkbox']").prop("checked");console.log(e),e?$("#newPassword").val(obj.wifiPassword):($("#newPassword").val(""),$("#newPassword").focus())}),$("#managePwd").parent().on("click",function(){console.log($(this));var e=$(this).find("input[type='checkbox']").prop("checked");console.log(e),e?$(".online-info-managesamePWD").get(0).style.display="none":($(".online-info-managesamePWD").get(0).style.display="block",$("#managePassword").val(""),$("#managePassword").focus())}),$("#pattern>.online-info-pattern").find("label").on("click",function(){patternChecked=$(this).find("input[type='radio']").prop("checked"),console.log(patternChecked),patternId=$(this).find("input[type='radio']").attr("id"),console.log(patternId)}),$("#main>form").validate({rules:{newWifiName:{emptyCheck:!0,minlength:1,maxlength:26},newPassword:{emptyCheck:!0,manageCodeCheck:!0}},messages:{newWifiName:{emptyCheck:"输入不能为空"},newPassword:{emptyCheck:"输入不能为空",manageCodeCheck:"有效密码为8-64位字符"}},success:function(e){},errorPlacement:function(e,o){console.log(o),console.log(e),e.appendTo(o.siblings("p"))}}),$("#main>form>button>a").on("click",function(){var e=$("#main>form").valid();return console.log(e),e&&$.ajax({type:"POST",url:"/cgi-bin/wifi_setting.cgi",data:"ex_station=station&patternId="+patternId+"&patternChecked="+patternChecked+"&"+$("#main>form").serialize(),error:function(e){console.log("提交当前路由设置信息失败")},success:function(e){console.log(e),console.log("提交当前wifi设置信息成功"),"wifiSuccess"==e&&(window.location.href="manage_navRoute_paraReboot.html")}}),!1})});